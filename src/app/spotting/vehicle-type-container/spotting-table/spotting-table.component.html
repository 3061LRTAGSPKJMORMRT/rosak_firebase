<d-data-table
    [dataSource]="dataSource"
    [scrollable]="true"
    [tableOverflowType]="'overlay'"
    [tableWidthConfig]="tableWidthConfig"
>
    <thead dTableHead>
        <tr dTableRow>
            <th dHeadCell></th>
            <th dHeadCell *ngFor="let colOption of dataTableOptions.columns">
                {{ colOption.header }}
            </th>
        </tr>
    </thead>
    <tbody dTableBody>
        <ng-template let-rowItem="rowItem" let-rowIndex="rowIndex">
            <tr dTableRow>
                <td dTableCell class="cursor-pointer">
                    <span
                        *ngIf="rowItem.$expandConfig"
                        (click)="toggleExpand(rowItem)"
                        class="expand-icon"
                    >
                        <span
                            class="icon-chevron-right"
                            *ngIf="!rowItem.$expandConfig?.expand"
                        ></span>
                        <span
                            class="icon-chevron-down"
                            *ngIf="rowItem.$expandConfig?.expand"
                        ></span>
                    </span>
                </td>
                <td
                    dTableCell
                    *ngFor="let colOption of dataTableOptions.columns"
                >
                    <span [ngSwitch]="colOption.fieldType">
                        <span *ngSwitchCase="'status'">
                            <span [ngSwitch]="rowItem[colOption.field]">
                                <d-tag
                                    *ngSwitchCase="'IN_SERVICE'"
                                    [tag]="
                                        rowItem[colOption.field]
                                            | vehicleStatusPipe
                                    "
                                    [labelStyle]="'green-w98'"
                                >
                                </d-tag>
                                <d-tag
                                    *ngSwitchCase="'NOT_SPOTTED'"
                                    [tag]="
                                        rowItem[colOption.field]
                                            | vehicleStatusPipe
                                    "
                                    [labelStyle]="'yellow-w98'"
                                >
                                </d-tag>
                                <d-tag
                                    *ngSwitchCase="'TESTING'"
                                    [tag]="
                                        rowItem[colOption.field]
                                            | vehicleStatusPipe
                                    "
                                    [labelStyle]="'blue-w98'"
                                >
                                </d-tag>
                                <d-tag
                                    *ngSwitchCase="'UNKNOWN'"
                                    [tag]="
                                        rowItem[colOption.field]
                                            | vehicleStatusPipe
                                    "
                                    [labelStyle]="'red-w98'"
                                >
                                </d-tag>
                                <d-tag
                                    *ngSwitchDefault
                                    [tag]="
                                        rowItem[colOption.field]
                                            | vehicleStatusPipe
                                    "
                                >
                                </d-tag>
                            </span>
                        </span>
                        <span *ngSwitchDefault>{{
                            rowItem[colOption.field]
                        }}</span>
                    </span>
                </td>
            </tr>
        </ng-template>
    </tbody>
</d-data-table>
